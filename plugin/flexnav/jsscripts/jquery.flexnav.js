(function(){var c;(c=jQuery).fn.flexNav=function(t){var i,e,n,s,a,o,l,h,r,u,d;return h=c.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1,hover:!0},t),(i=c(this)).addClass("with-js"),!0===h.transitionOpacity&&i.addClass("opacity"),i.find("li").each(function(){if(c(this).has("ul").length)return c(this).addClass("item-with-ul").find("ul").hide()}),!0===h.calcItemWidths&&(s=(e=i.find(">li")).length,a=100/s+"%"),i.data("breakpoint")&&(n=i.data("breakpoint")),r=function(){if(!0===i.hasClass("lg-screen")&&!0===h.hover)return!0===h.transitionOpacity?c(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},h.animationSpeed):c(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},h.animationSpeed)},o=function(){if(!0===i.hasClass("lg-screen")&&!0===c(this).find(">ul").hasClass("flexnav-show")&&!0===h.hover)return!0===h.transitionOpacity?c(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},h.animationSpeed):c(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},h.animationSpeed)},l=function(){var t;if(c(window).width()<=n)return i.removeClass("lg-screen").addClass("sm-screen"),!0===h.calcItemWidths&&e.css("width","100%"),t=h.buttonSelector+", "+h.buttonSelector+" .touch-button",c(t).removeClass("active"),c(".one-page li a").on("click",function(){return i.removeClass("flexnav-show")});if(c(window).width()>n){if(i.removeClass("sm-screen").addClass("lg-screen"),!0===h.calcItemWidths&&e.css("width",a),i.removeClass("flexnav-show").find(".item-with-ul").on(),c(".item-with-ul").find("ul").removeClass("flexnav-show"),o(),!0===h.hoverIntent)return c(".item-with-ul").hoverIntent({over:r,out:o,timeout:h.hoverIntentTimeout});if(!1===h.hoverIntent)return c(".item-with-ul").on("mouseenter",r).on("mouseleave",o)}},c(h.buttonSelector).data("navEl",i),d=".item-with-ul, "+h.buttonSelector,c(d).append('<span class="touch-button"><i class="navicon">&#9660;</i></span>'),u=h.buttonSelector+", "+h.buttonSelector+" .touch-button",c(u).on("click",function(t){var e;return c(u).toggleClass("active"),t.preventDefault(),t.stopPropagation(),e=h.buttonSelector,(c(this).is(e)?c(this):c(this).parent(e)).data("navEl").toggleClass("flexnav-show")}),c(".touch-button").on("click",function(t){var e,n;return e=c(this).parent(".item-with-ul").find(">ul"),n=c(this).parent(".item-with-ul").find(">span.touch-button"),!0===i.hasClass("lg-screen")&&c(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),!0===e.hasClass("flexnav-show")?(e.removeClass("flexnav-show").slideUp(h.animationSpeed),n.removeClass("active")):!1===e.hasClass("flexnav-show")?(e.addClass("flexnav-show").slideDown(h.animationSpeed),n.addClass("active")):void 0}),i.find(".item-with-ul *").focus(function(){return c(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),c(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),l(),c(window).on("resize",l)}}).call(this);